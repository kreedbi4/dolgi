# Проектирование программного обеспечения

## Об архитектуре
Архитектура программного обеспечения - это фундаментальная организация системы, включающая в себя компоненты, их взаимосвязи и взаимодействие, а также принципы и стандарты, направляющие её разработку и эволюцию. Основные цели архитектуры:

Масштабируемость: способность системы увеличивать свою производительность и пропускную способность.
Производительность: эффективность выполнения задач системой.
Надежность: устойчивость к сбоям и возможность быстрого восстановления.

Архитектура включает такие аспекты, как выбор технологий, слоистая структура системы (например, клиент-сервер, многослойная архитектура), схемы взаимодействия компонентов и управление данными.

## Декомпозиция, Объектно-ориентированное проектирование
Декомпозиция - это процесс разбивки сложной системы на более мелкие и управляемые части, что упрощает разработку и поддержку. В контексте программного обеспечения, декомпозиция часто осуществляется с помощью объектно-ориентированного проектирования (ООП).

Основные принципы ООП:

Инкапсуляция: сокрытие внутреннего состояния объекта и предоставление доступа к нему только через методы.
Наследование: создание новых классов на основе существующих, что способствует повторному использованию кода.
Полиморфизм: способность объектов разных классов обрабатывать вызовы методов через единый интерфейс.
Эти принципы позволяют создавать модульные, гибкие и легко поддерживаемые системы.

## Моделирование. UML
Unified Modeling Language (UML) - это стандартный язык для визуализации, спецификации, конструирования и документирования компонентов системы. Основные диаграммы UML:

Диаграммы классов: показывают структуры классов и их взаимосвязи.
Диаграммы последовательностей: отображают взаимодействие объектов в хронологическом порядке.
Диаграммы состояний: описывают различные состояния объектов и переходы между ними.
UML помогает разработчикам и стейкхолдерам понять и документировать архитектуру и поведение системы.

## Моделирование и анализ
Моделирование - это процесс создания абстрактного представления системы, который помогает понять её поведение и структуру. Анализ включает в себя проверку правильности модели, выявление возможных проблем и оптимизацию решений.

Методы моделирования и анализа:

Статическое моделирование: включает структуры данных и организацию системы (например, диаграммы классов).
Динамическое моделирование: фокусируется на поведении системы во времени (например, диаграммы последовательностей, диаграммы активности).

## Моделирование поведения
Моделирование поведения - это процесс описания динамики системы и её реакции на различные события. Основные инструменты:

Диаграммы деятельности: показывают потоки работы или бизнес-процессы.
Диаграммы последовательностей: иллюстрируют взаимодействие объектов в определённой последовательности.
Диаграммы состояний: отображают различные состояния объектов и их переходы в ответ на события.

## Структурные шаблоны
Структурные шаблоны проектирования описывают, как организовать классы и объекты для создания крупных структур. Примеры:

Adapter: позволяет объектам с несовместимыми интерфейсами работать вместе.
Bridge: разделяет абстракцию и её реализацию, позволяя изменять их независимо.
Composite: позволяет объединять объекты в древовидные структуры для представления иерархий частей и целого.

## Порождающие шаблоны
Порождающие шаблоны проектирования определяют механизмы создания объектов, скрывая сложность их создания и обеспечивая гибкость системы. Примеры:

Factory Method: определяет интерфейс для создания объекта, но позволяет подклассам изменить тип создаваемого объекта.
Abstract Factory: предоставляет интерфейс для создания семейств взаимосвязанных или взаимозависимых объектов.
Singleton: гарантирует, что у класса есть только один экземпляр, и предоставляет к нему глобальную точку доступа.
Prototype: позволяет создавать новые объекты путем копирования существующего объекта, что упрощает создание объектов с похожими характеристиками.

Использование порождающих шаблонов помогает улучшить гибкость и повторное использование кода, а также облегчает создание объектов и структур в программном обеспечении.

## Поведенческие шаблоны
Поведенческие шаблоны проектирования описывают способы взаимодействия объектов и распределения обязанностей между ними. Примеры:

Observer: определяет зависимость "один ко многим" между объектами, при которой изменение состояния одного объекта приводит к уведомлению и обновлению всех зависимых объектов.
Strategy: определяет семейство алгоритмов, инкапсулирует их и делает взаимозаменяемыми, позволяя изменять алгоритмы независимо от клиентов, которые их используют.
Command: инкапсулирует запрос как объект, что позволяет параметризовать клиентов с разными запросами, ставить запросы в очередь или логировать их.
Chain of Responsibility: позволяет передавать запросы последовательно по цепочке обработчиков, пока запрос не будет обработан или не достигнет конца цепочки.

Использование поведенческих шаблонов помогает улучшить гибкость программы, уменьшить связанность между объектами и облегчить изменение поведения программы без изменения ее структуры.

## Антипаттерны
Антипаттерны - это распространённые ошибки и проблемные решения в проектировании и разработке ПО. Примеры:

God Object: объект, который знает слишком много или делает слишком много.
Spaghetti Code: код, в котором логика программы запутана и трудно следить за выполнением.
Golden Hammer: предпочтение одного известного решения для всех проблем, независимо от его пригодности.
Poltergeist: класс или объект, который не делает ничего, кроме того, что перенаправляет запросы другим объектам, что приводит к избыточности и усложнению кода.

Изучение антипаттернов помогает разработчикам избегать типичных ошибок при проектировании программного обеспечения и улучшить качество и поддерживаемость кода. Понимание антипаттернов также способствует развитию навыков хорошего проектирования и творческого подхода к разработке программного обеспечения.

## Архитектурные стили
Архитектурные стили в проектировании программного обеспечения представляют собой общие шаблоны организации кода, структуры и взаимодействия компонентов программы. Они определяют основные принципы и правила, по которым строится архитектура программы. Каждый архитектурный стиль имеет свои особенности, преимущества и недостатки, и может быть применим в различных сценариях разработки.

Некоторые из популярных архитектурных стилей включают:
  Монолитное приложение (Monolithic Architecture): Весь функционал приложения интегрирован в одно целое. Это простой стиль, но может быть сложным для масштабирования и поддержки на больших проектах.
  
  Сервисно-ориентированная архитектура (Service-Oriented Architecture, SOA): Приложение разделено на независимые сервисы, которые взаимодействуют между собой через сетевые протоколы. Это упрощает масштабирование и повторное использование кода.
  
  Микросервисная архитектура (Microservices Architecture): Приложение разделено на небольшие, автономные сервисы, каждый из которых отвечает за свою четко определенную функциональность. Это позволяет легко масштабировать и обслуживать приложение.
   
  Событийно-ориентированная архитектура (Event-Driven Architecture): Компоненты приложения взаимодействуют через отправку и прием событий. Это позволяет создавать более гибкие и отзывчивые системы.

  N-уровневая архитектура (N-tier Architecture): Приложение разделено на несколько уровней (например, представление, бизнес-логика, данные), что обеспечивает легкость поддержки и расширения.

Выбор архитектурного стиля зависит от требований проекта, его масштаба, специфики задач и других факторов. Каждый стиль имеет свои особенности и применимости, и важно выбирать наиболее подходящий стиль для конкретного проекта.

## Предметно-ориентированное проектирование
Предметно-ориентированное проектирование (Domain-Driven Design, DDD) - это подход к разработке ПО, который акцентирует внимание на модели предметной области. Основные концепции:

Entities: объекты с уникальной идентичностью.
Value Objects: объекты, определяемые их атрибутами.
Aggregates: группа связанных объектов, которые рассматриваются как единое целое.

## Примеры архитектур
Архитектура Git:
Git - это одна из первых распределенных систем контроля версий, разработанная Линусом Торвальдсом.
Git хранит всю информацию в локальном репозитории, который организован как скрытая папка Git, лежащая рядом с исходниками.
Git использует рефы для реализации веток и тэгов, а также для хранения информации о текущем содержимом рабочей копии.
Git также имеет набор скриптов, которые могут выполняться при выполнении действий с репозиторием, и конфиг, который содержит конфигурацию Git.
В папке образа хранятся объекты, которые являются содержимым файлов, зипуются для эффективного хранения, но не более.
Git использует хэширование для хранения информации о файлах, что позволяет быстро находить нужный файл в файловой системе.

Архитектура Mercurial:
Основа структуры данных Mercurial - Revlog, который хранит всю информацию о хранимых данных.
Каждый файл хранится в виде ревизий, которые хранятся в виде дельт.
Ревизии описываются с помощью записей в Revlog'e, которые также используют дельта-компрессию для эффективного хранения информации.
Revlog'и образуют иерархическую структуру, где есть Changelog - общий для всего репозитория, Manifest - хранит информацию о файлах и ссылку на логи, и DirState - информация о рабочей копии и кэш дерева файла.
Revlog'и обновляются в определенном порядке, начиная с файла лога и далее, что позволяет избежать проблем с питанием.
Revlog'и полноценные объекты в репозитории, которые также используют дельта-компрессию для хранения только измененных файлов.

##
